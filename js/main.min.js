enable_width_control(),enable_widget_fold_control();function enable_width_control(){let e=document.getElementsByClassName("width-control");for(let t of e){let n=t.parentElement;t.onmousehover,t.onmousedown=function(e){let[i,a]=[e.clientX,n.offsetWidth],s=parseInt(n.style.minWidth)||160,o=parseInt(n.style.maxWidth)||640,r=t.style.backgroundColor;t.style.backgroundColor=window.getComputedStyle(t,":hover").backgroundColor,document.documentElement.style.userSelect="none",document.onmousemove=function(e){let r=e.clientX,t=r-i+a;t>o?t=o:t<s&&(t=s),n.style.width=t+"px"},document.onmouseup=function(){t.style.backgroundColor=r,document.documentElement.style.userSelect="auto",document.onmousemove=null,document.onmouseup=null}}}}function enable_widget_fold_control(){let e=document.getElementsByClassName("widget-fold-control");for(let s of e){let o=s.parentElement,t=o.nextElementSibling,n=t.clientHeight,i=t.clientWidth;t.style.height=n+"px",o.onclick=function(){t.style.height==="0px"?(s.style.transform="rotate(0deg)",t.style.height=n+"px"):(s.style.transform="rotate(-90deg)",n=t.clientHeight,t.style.height="0px")},new ResizeObserver(e=>{if(e[0].contentRect.width!==i&&t.style.height!=="0px"){if(t.style.height="",t.clientHeight===0){t.style.height=n+"px";return}n=t.clientHeight,t.style.height=n+"px",i=e[0].contentRect.width}}).observe(t)}}enable_dark_toggle(),enable_layout_toggle();function enable_dark_toggle(){let e=document.getElementById("toggler-dark"),t=localStorage.getItem("hero-dark");t==="true"&&!document.documentElement.classList.contains("dark")?(document.documentElement.classList.toggle("dark"),e.firstElementChild.classList.toggle("icon-Daytimemode-fill"),e.firstElementChild.classList.toggle("icon-Daytimemode")):t===null&&localStorage.setItem("hero-dark","false"),e.onclick=function(){document.documentElement.classList.toggle("dark"),e.firstElementChild.classList.toggle("icon-Daytimemode-fill"),e.firstElementChild.classList.toggle("icon-Daytimemode"),localStorage.getItem("hero-dark")==="true"?localStorage.setItem("hero-dark","false"):localStorage.setItem("hero-dark","true")}}function enable_layout_toggle(){let t=document.getElementById("toggler-layout"),e=localStorage.getItem("hero-layout");e==="reading"&&!document.documentElement.classList.contains("layout-reading")?document.documentElement.classList.toggle("layout-reading"):e===null&&localStorage.setItem("hero-layout","default"),t.onclick=function(){document.documentElement.classList.toggle("layout-reading"),localStorage.getItem("hero-layout")==="reading"?localStorage.setItem("hero-layout","default"):localStorage.setItem("hero-layout","reading")}}enable_search();var fuse=null;function enable_search(){let e=document.getElementById("search-input"),t=document.getElementById("search-result"),s=document.getElementById("search-result-mask"),o=document.getElementById("search-result-content"),n=null;loadSearch(),s.onclick=function(){t.classList.remove("active")},e.onfocus=function(){t.classList.add("active")},e.onkeyup=function(t){if(!t.isComposing&&t.key==="Enter"){let t=e.value.trim();n!==t&&(executeSearch(t,o),n=t)}}}function executeSearch(e,t){let n="";if(fuse===null)n="<span>搜索工具暂不可用，请稍后重试。</span>";else{let t=fuse.search(e);if(t.length===0)n="<span>无匹配结果</span>";else for(let o in t.slice(0,7)){let e=t[o].item,s="";for(let t in e.tags)s=s+`<span class="entry-tag">${e.tags[t]}</span>`;n=n+`
                <div class='result-entry flex-single-col'>
                    <a href="${e.permalink}" class="entry-title">${e.title}</a>
                    <span class="entry-summary">${e.summary}</span>
                    <span class="entry-tags">
                        ${s}
                    </span>
                </div>
                `}}t.innerHTML=n}function loadSearch(){fetchJSONFile("/index.json",function(e){var t={shouldSort:!0,location:0,distance:100,threshold:.25,minMatchCharLength:1,keys:["title","summary"]};fuse=new Fuse(e,t)})}function fetchJSONFile(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===4&&n.status===200){var e=JSON.parse(n.responseText);t&&t(e)}},n.open("GET",e),n.send()}